{"version":3,"file":"index.js","sources":["../dist-src/schemas/schema.js","../dist-src/schemas/primative.js","../dist-src/schemas/string.js","../dist-src/schemas/object.js","../dist-src/schemas/array.js","../dist-src/schemas/number.js"],"sourcesContent":["export default class Schema {\r\n    constructor() {\r\n        this.validationRules = [];\r\n    }\r\n    addRule(rule) {\r\n        this.validationRules.push(rule);\r\n        return this;\r\n    }\r\n}\r\n//# sourceMappingURL=schema.js.map","import Schema from './schema';\r\nexport default class PrimativeSchema extends Schema {\r\n    required(message = 'This field is required') {\r\n        return this.addRule(input => {\r\n            if (input === undefined || input === null) {\r\n                return message;\r\n            }\r\n        });\r\n    }\r\n    validate(input) {\r\n        return this.validationRules.map(rule => {\r\n            const error = rule(input);\r\n            return error;\r\n        }).filter(res => res !== undefined);\r\n    }\r\n}\r\n//# sourceMappingURL=primative.js.map","import PrimativeSchema from './primative';\r\nexport default class StringSchema extends PrimativeSchema {\r\n    constructor() {\r\n        super();\r\n        this.addRule(input => {\r\n            if (input === undefined || input === null) {\r\n                return;\r\n            }\r\n            if (typeof input !== \"string\") {\r\n                return `Expected typeof \\`string\\` not \\`${typeof input}\\``;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=string.js.map","import Schema from './schema';\r\nexport default class ObjectSchema extends Schema {\r\n    constructor(shape) {\r\n        super();\r\n        this.shape = shape;\r\n        this.addRule(input => {\r\n            if (input === undefined || input === null) {\r\n                return;\r\n            }\r\n            if (typeof input !== \"object\") {\r\n                return `Expected typeof \\`object\\` not \\`${typeof input}\\``;\r\n            }\r\n        });\r\n    }\r\n    required(message = 'This field is required') {\r\n        return this.addRule(input => {\r\n            if (input === undefined || input === null) {\r\n                return message;\r\n            }\r\n        });\r\n    }\r\n    validate(input) {\r\n        const errors = this.validationRules\r\n            .map(rule => rule(input))\r\n            .filter(res => res !== undefined);\r\n        if (errors.length > 0) {\r\n            return errors;\r\n        }\r\n        if (input === undefined) {\r\n            return [];\r\n        }\r\n        const errorMap = Object.entries(this.shape)\r\n            // .filter(([key, value]) => value !== undefined)\r\n            .map(([key, value]) => [key, value.validate(Reflect.get(input, key))])\r\n            .filter(([key, value]) => !(Array.isArray(value) && value.length === 0))\r\n            .filter(([key, value]) => value !== undefined);\r\n        if (errorMap.length === 0) {\r\n            return [];\r\n        }\r\n        else {\r\n            return [Object.fromEntries(errorMap)];\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=object.js.map","import PrimativeSchema from './primative';\r\nexport default class ArraySchema extends PrimativeSchema {\r\n    constructor() {\r\n        super();\r\n        this.addRule(input => {\r\n            if (input === undefined || input === null) {\r\n                return;\r\n            }\r\n            if (!Array.isArray(input)) {\r\n                return `Expected input to be an Array`;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=array.js.map","import PrimativeSchema from './primative';\r\nexport default class NumberSchema extends PrimativeSchema {\r\n    constructor() {\r\n        super();\r\n        this.addRule(input => {\r\n            if (input === undefined || input === null) {\r\n                return;\r\n            }\r\n            if (typeof input !== \"number\") {\r\n                return `Expected typeof \\`number\\` not \\`${typeof input}\\``;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=number.js.map"],"names":[],"mappings":";;;;AAEc,MAAgB,MAAhB,CAAsB;EAApC,WAAA,GAAA;SACY,eAAA,GAA4C,EAA5C;;;EAEV,OAAO,CAAC,IAAD,EAA6B;SAC7B,eAAL,CAAqB,IAArB,CAA0B,IAA1B;WACO,IAAP;;;;;ACLU,MAAO,eAAP,SAAkC,MAAlC,CAAmD;EAE/D,QAAQ,CAAC,OAAO,GAAG,wBAAX,EAAmC;WAClC,KAAK,OAAL,CAAa,KAAK,IAAG;UACvB,KAAK,KAAK,SAAV,IAAuB,KAAK,KAAK,IAApC,EAA0C;eACjC,OAAP;;KAFG,CAAP;;;EAOF,QAAQ,CAAC,KAAD,EAAqB;WACpB,KAAK,eAAL,CAAqB,GAArB,CAAyB,IAAI,IAAG;YAC/B,KAAK,GAAG,IAAI,CAAC,KAAD,CAAlB;aAEO,KAAP;KAHK,EAIJ,MAJI,CAIG,GAAG,IAAI,GAAG,KAAK,SAJlB,CAAP;;;;;ACXU,MAAO,YAAP,SAA4B,eAA5B,CAAmD;EAC/D,WAAA,GAAA;;SAGO,OAAL,CAAa,KAAK,IAAG;UAChB,KAAK,KAAK,SAAV,IAAuB,KAAK,KAAK,IAApC,EAA0C;;;;UAGvC,OAAO,KAAP,KAAiB,QAApB,EAA8B;eACrB,oCAAoC,OAAO,KAAK,IAAvD;;KALJ;;;;;ACEU,MAAO,YAAP,SAA4B,MAA5B,CAAkD;EAC9D,WAAA,CAAmB,KAAnB,EAAqC;;SAAlB,KAAA,GAAA,KAAA;SAGZ,OAAL,CAAa,KAAK,IAAG;UAChB,KAAK,KAAK,SAAV,IAAuB,KAAK,KAAK,IAApC,EAA0C;;;;UAGvC,OAAO,KAAP,KAAiB,QAApB,EAA8B;eACrB,oCAAoC,OAAO,KAAK,IAAvD;;KALJ;;;EAUF,QAAQ,CAAC,OAAO,GAAG,wBAAX,EAAmC;WAClC,KAAK,OAAL,CAAa,KAAK,IAAG;UACvB,KAAK,KAAK,SAAV,IAAuB,KAAK,KAAK,IAApC,EAA0C;eACjC,OAAP;;KAFG,CAAP;;;EAOF,QAAQ,CAAmB,KAAnB,EAAuC;UACvC,MAAM,GAAG,KAAK,eAAL,CACZ,GADY,CACR,IAAI,IAAI,IAAI,CAAC,KAAD,CADJ,EAEZ,MAFY,CAEL,GAAG,IAAI,GAAG,KAAK,SAFV,CAAf;;QAIG,MAAM,CAAC,MAAP,GAAgB,CAAnB,EAAsB;aACb,MAAP;;;QAGC,KAAK,KAAK,SAAb,EAAwB;aACf,EAAP;;;UAGI,QAAQ,GAAG,MAAM,CAAC,OAAP,CAAe,KAAK,KAApB;KAEd,GAFc,CAEV,CAAC,CAAC,GAAD,EAAM,KAAN,CAAD,KAAkB,CAAC,GAAD,EAAM,KAAK,CAAC,QAAN,CAAe,OAAO,CAAC,GAAR,CAAY,KAAZ,EAAmB,GAAnB,CAAf,CAAN,CAFR,EAGd,MAHc,CAGP,CAAC,CAAC,GAAD,EAAM,KAAN,CAAD,KAAkB,EAAE,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,MAAN,KAAiB,CAA3C,CAHX,EAId,MAJc,CAIP,CAAC,CAAC,GAAD,EAAM,KAAN,CAAD,KAAkB,KAAK,KAAK,SAJrB,CAAjB;;QAMG,QAAQ,CAAC,MAAT,KAAoB,CAAvB,EAA0B;aACjB,EAAP;KADF,MAEO;aACE,CAAC,MAAM,CAAC,WAAP,CAAmB,QAAnB,CAAD,CAAP;;;;;;AClDQ,MAAO,WAAP,SAA8B,eAA9B,CAAuD;EACnE,WAAA,GAAA;;SAGO,OAAL,CAAa,KAAK,IAAG;UAChB,KAAK,KAAK,SAAV,IAAuB,KAAK,KAAK,IAApC,EAA0C;;;;UAGvC,CAAC,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;eACjB,+BAAP;;KALJ;;;;;ACJU,MAAO,YAAP,SAA4B,eAA5B,CAAmD;EAC/D,WAAA,GAAA;;SAGO,OAAL,CAAa,KAAK,IAAG;UAChB,KAAK,KAAK,SAAV,IAAuB,KAAK,KAAK,IAApC,EAA0C;;;;UAGvC,OAAO,KAAP,KAAiB,QAApB,EAA8B;eACrB,oCAAoC,OAAO,KAAK,IAAvD;;KALJ;;;;;;;;;;;;"}